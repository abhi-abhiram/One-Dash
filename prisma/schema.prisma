// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id               String       @id @unique @default(cuid())
  firstName        String
  lastName         String?
  email            String       @unique
  phone            String?
  country          String?
  emailVerified    Boolean
  profile          String?
  addressFirstname String?
  addressLastname  String?
  companyName      String?
  address          String?
  city             String?
  state            String?
  zipcode          String?
  heads            User[]       @relation("UserTeam")
  teamMembers      User[]       @relation("UserTeam")
  credentials      Credentials?
  orders           Orders[]
}

model Credentials {
  id       String @id @unique @default(cuid())
  userID   String @unique
  password String
  user     User   @relation(fields: [userID], references: [id])
}

model Orders {
  orderID       String  @id @unique @default(cuid())
  description   String
  attachments   String?
  PaymentStatus String

  logo           String?
  orderStatus    orderStatus @default(DRAFT)
  referenceLinks String?
  orderDate      DateTime    @default(now())
  userId         String      @unique
  user           User        @relation(fields: [userId], references: [id])
}

enum orderStatus {
  DRAFT
  pendingReview
  pendingQuote
  pendingpayment
  inProduction
  inRepair
  deliverd
  completed
}
